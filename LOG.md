# Change Log

| Date | Change | Details | Files |
| --- | --- | --- | --- |
| 2025-10-29 | Update contact email and centralize contact section | Changed contact email from info@eduaccountability.org to support@edu-accountability.com and centralized contact information to main Overview page only. Updated main Overview page contact section (line 141) with new email address for both display text and mailto link. Removed contact section from Earnings Premium Analysis Overview page (lines 203-211) to avoid duplication and maintain single source of contact information. **Rationale**: Centralizing contact information provides clearer user experience with single, consistent contact point; new email domain matches production setup. **Result**: All user contact inquiries directed to support@edu-accountability.com via main Overview page only; eliminated redundant contact sections across multiple pages. | `src/sections/overview.py:141`, `src/sections/earnings_premium_analysis.py:203-211 (removed)` |
| 2025-11-07 | Phase 01 (Canonical IPEDS Grad) ‚Äî inventory + schema complete | Created canonical scaffolding per integration plan: ensured `data/raw/ipeds/` + `data/processed/2023/canonical/` structure, added package in `src/pipelines/canonical/ipeds_grad/`, documented raw inputs (`docs/ipeds_raw_inventory.md`), defined long-format schema (`docs/schema_canonical_ipeds_grad.md`), captured lineage (`docs/README_canonical_ipeds_grad.md`), and logged DL-001 scope in `DECISION_LOG.md`. **Result**: Ready to start Phase 02 extraction with approved inputs + contracts. | `docs/ipeds_raw_inventory.md`, `docs/schema_canonical_ipeds_grad.md`, `docs/README_canonical_ipeds_grad.md`, `DECISION_LOG.md`, `src/pipelines/canonical/ipeds_grad/__init__.py` |
| 2025-11-07 | Phase 05 canonical outputs + provenance | Added `build_outputs.py` + unit tests to create latest-by-institution and year/sector summary Parquet files, plus `out/canonical/ipeds_grad/run_latest.json` metadata. Tests: `PYTHONPATH=. uv run pytest tests/pipelines/canonical -q`. Build run: `python -m src.pipelines.canonical.ipeds_grad.build_outputs` (long=91,840, latest=5,437, summary=198). README now lists the artifacts. | `src/pipelines/canonical/ipeds_grad/build_outputs.py`, `tests/pipelines/canonical/test_ipeds_grad_build_outputs.py`, `docs/README_canonical_ipeds_grad.md`, `out/canonical/ipeds_grad/run_latest.json` |
| 2025-11-07 | Phase 06 documentation ‚Äî schema + reviewer guides | Authored `docs/data_dictionary_ipeds_grad.md`, expanded `docs/README_canonical_ipeds_grad.md` with reproduction + reviewer checklists, and updated the root `README.md` to outline canonical pipeline steps. Entry supersedes the kickoff note and confirms documentation ready for Phase 07. | `docs/data_dictionary_ipeds_grad.md`, `docs/README_canonical_ipeds_grad.md`, `README.md`, `LOG.md` |
| 2025-11-07 | Phase 07 app integration pilot | Added feature flag support (`USE_CANONICAL_GRAD_DATA`), DataManager loading of canonical Parquet outputs, and College Explorer UI cards that surface canonical 150% completion rates alongside legacy Pell trends. Updated docs/README + README to describe the toggle, and reran canonical test suite via `PYTHONPATH=. uv run pytest tests/pipelines/canonical -q`. | `src/config/feature_flags.py`, `src/config/data_sources.py`, `src/core/data_manager.py`, `src/sections/college_explorer.py`, `docs/README_canonical_ipeds_grad.md`, `README.md`, `LOG.md` |
| 2025-11-07 | Canonical IPEDS explorer | Renamed the alpha section to ‚ÄúCanonical IPEDS,‚Äù standardized navigation/session keys for future datasets, and simplified the UI to a single institution explorer driven by the canonical long table (line chart). Recorded DL-005 for this multi-dataset approach. | `src/config/constants.py`, `src/config/navigation.py`, `src/sections/canonical_ipeds.py`, `src/sections/__init__.py`, `app.py`, `DECISION_LOG.md`, `LOG.md` |
| 2025-11-08 | Kickoff: percent Pell canonical pipeline | Logged DL-006 to sequence new SFA datasets, documented raw sources (`docs/ipeds_raw_inventory.md`) and drafted schema contract for percent Pell (`docs/schema_canonical_percent_pell.md`) ahead of extraction work. | `docs/ipeds_raw_inventory.md`, `docs/schema_canonical_percent_pell.md`, `DECISION_LOG.md`, `LOG.md` |
| 2025-11-08 | Percent Pell Phase 02 ‚Äî extraction module | Added reusable SFA extractor (`src/pipelines/canonical/ipeds_sfa/extraction.py`) plus unit tests; supports percent Pell long table and will later power the loans dataset. Tests: `PYTHONPATH=. uv run pytest tests/pipelines/canonical/test_ipeds_sfa_extraction.py -q`. | `src/pipelines/canonical/ipeds_sfa/extraction.py`, `tests/pipelines/canonical/test_ipeds_sfa_extraction.py`, `LOG.md` |
| 2025-11-08 | Kickoff: percent federal loans pipeline | Logged DL-007, documented raw loans file, and drafted schema (`docs/schema_canonical_percent_loans.md`) before cloning Pell extraction/enrichment logic. | `docs/ipeds_raw_inventory.md`, `docs/schema_canonical_percent_loans.md`, `DECISION_LOG.md`, `LOG.md` |
| 2025-11-08 | Percent loans canonical dataset | Reused the SFA extractor to process `percent_federal_loans.csv`, enriched with HD metadata, generated long/latest/summary parquet files plus `out/canonical/ipeds_loans/run_latest.json`, and surfaced the dataset in the Canonical IPEDS explorer alongside Pell. | `src/pipelines/canonical/ipeds_sfa/*`, `data/processed/2023/canonical/ipeds_percent_loans_*.parquet`, `out/canonical/ipeds_loans/run_latest.json`, `src/config/constants.py`, `src/config/data_sources.py`, `src/sections/canonical_ipeds.py`, `docs/README_canonical_ipeds_grad.md`, `docs/data_dictionary_ipeds_grad.md`, `README.md`, `LOG.md` |
| 2025-10-29 | Add full disclaimer expander to EP Analysis Overview and update navigation list | Enhanced Earnings Premium Analysis Overview page with direct access to full legal disclaimer and corrected navigation list. Added disclaimer expander (lines 78-89) immediately below Important Limitation text using `load_disclaimer_content()` function and `st.expander()` widget, matching implementation from main Overview page. Expander displays complete DISCLAIMER.md content (9 sections, 1,812 characters) with acknowledgment footer. Removed "(see Overview page)" reference from limitation text (line 73) since full disclaimer now accessible inline. Updated "What You Can Explore" section (lines 186-199) to match current 8-tab navigation structure: Risk Distribution (was "National Overview"), Risk Map (was "Overview & Risk Map"), Risk Quadrants (#3 position), Sector Comparison, State Analysis, Program Distribution (newly added to list), Institution Lookup (#7 position), Methodology & Limitations. All tab names now exactly match navigation labels from constants.py, correct order matches sidebar structure, descriptions aligned with navigation.py. Previously missing "Program Distribution" tab now included in exploration list. **Result**: EP Analysis users can access full legal terms without leaving the page; navigation list accurately reflects all 8 available pages in correct order with consistent naming. Enhanced transparency and improved user guidance for section navigation. | `src/sections/earnings_premium_analysis.py:64,73,78-89,190-197` |
| 2025-10-29 | Enhance EP Analysis Overview with prominent data limitation warning and add contact section | Restructured Earnings Premium Analysis Overview page to prioritize critical data limitations at top of page. Moved "Important Limitation" from bottom (line 172-177) to immediately after hero section (lines 63-74) with red heading (`<h4 style="color: red;">`) and red-colored "Full Disclaimer & Terms of Use" reference. Updated limitation text to emphasize institution-level vs program-level data distinction: analyses use publicly available institution-level median earnings, while actual federal EP/D/E tests use program-specific IRS/SSA administrative records. Warning states results are "approximate and non-authoritative" and must not be interpreted as official compliance assessments. Added contact section to Overview page bottom (lines 136-144) with üì¨ icon, mailto link to info@eduaccountability.org (routes to support@), and feedback encouragement message. Contact section separated by horizontal divider for clear visual distinction. **Result**: EP Analysis users immediately see data limitation context before viewing any institutional risk assessments; main Overview page provides direct communication channel for data verification requests and inaccuracy reports. Both additions use red styling and prominent positioning to ensure legal/contextual clarity. | `src/sections/earnings_premium_analysis.py:63-74,170`, `src/sections/overview.py:136-144` |
| 2025-10-29 | Integrate full disclaimer and terms of use | Incorporated DISCLAIMER.md content into the application with new disclaimer utility module. Created `src/ui/disclaimer.py` with functions to load and render disclaimer content (1,812 characters). Updated Overview page Important Notice section to display red-highlighted heading, comprehensive warning text with red-colored "Full Disclaimer & Terms of Use" reference, and expandable section containing full legal terms from DISCLAIMER.md. Removed "(Beta)" designation from "EDU Accountability Lab" throughout notices. Updated DISCLAIMER.md to remove Beta references: changed "EDU Accountability Lab (Beta)" to "EDU Accountability Lab" in Purpose and Scope, renamed section 2 from "Beta Status" to "Experimental Status", and changed description from "beta-stage platform" to "experimental platform". Important Notice now features: red heading via inline HTML styling, two-paragraph warning about research-oriented analyses and terms acceptance, expandable section with complete disclaimer content, and acknowledgment text at bottom. Disclaimer utility provides reusable functions: `load_disclaimer_content()` reads DISCLAIMER.md, `render_disclaimer_summary()` displays formatted notice with expander, `render_disclaimer_footer()` provides compact footer for future use. Result: Professional legal framework with full transparency, prominent visual warnings (red text), complete terms accessible without navigation, single source of truth (DISCLAIMER.md file), and clean architecture following existing UI patterns. | `src/ui/disclaimer.py` (new, 62 lines), `src/ui/__init__.py:3-4,6-9`, `src/sections/overview.py:61-63`, `DISCLAIMER.md:6,8-9` |
| 2025-10-28 | Add aggregate Pell grant dollars trend chart | Adds "Pell Dollars Trend (Total)" analysis showing aggregate Pell grant patterns across all institutions per year (2008-2022). Features dotted line with purple styling (#9467bd matching Pell theme), colored dots indicating year-over-year change direction (green=increase >0.5%, gray=same ¬±0.5%, red=decrease <-0.5%), interactive tooltips with YoY percentage changes, and tab-based navigation for 4-year vs 2-year sectors. Updated Pell Grants Overview to show 4 analysis types (was 3) with new purple-styled analysis card. Implemented _prepare_pell_trend_total_dataframe() for aggregation logic and render_pell_trend_total_chart() for Altair visualization. Added PELL_TREND_TOTAL_LABEL constant and routing logic. Updated README.md to reflect aggregate trend analysis capabilities. **Use case**: Reveals macro-level need-based aid trends like post-2008 expansion, sequestration impacts, and sector-wide access patterns not visible in per-institution charts. | `src/charts/pell_trend_total_chart.py` (new, 239 lines), `src/sections/pell_grants.py:12,20,78,89,133-145,198-199,301-322`, `src/config/constants.py:66,73`, `src/config/__init__.py:24`, `README.md:30-36` |
| 2025-10-28 | Add aggregate federal loan dollars trend chart | Adds "Federal Loan Dollars Trend (Total)" analysis showing aggregate lending patterns across all institutions per year (2008-2022). Features dotted line with steelblue styling (#1f77b4), colored dots indicating year-over-year change direction (green=increase >0.5%, gray=same ¬±0.5%, red=decrease <-0.5%), interactive tooltips with YoY percentage changes, and tab-based navigation for 4-year vs 2-year sectors. Updated Federal Loans Overview to show 4 analysis types (was 3) with new purple-styled analysis card. Implemented _prepare_loan_trend_total_dataframe() for aggregation logic and render_loan_trend_total_chart() for Altair visualization. Added LOAN_TREND_TOTAL_LABEL constant and routing logic. Updated README.md to reflect aggregate trend analysis capabilities. **Use case**: Reveals macro-level lending trends like post-2008 recovery, COVID-era impacts, and sector-wide borrowing patterns not visible in per-institution charts. | `src/charts/loan_trend_total_chart.py` (new, 239 lines), `src/sections/federal_loans.py:11,19,74,85,129-145,200,276-307`, `src/config/constants.py:89,95`, `src/config/__init__.py:35`, `README.md:22-28` |
| 2025-10-27 | Fix Altair chart width parameter error | Corrected TypeError in Altair charts caused by incorrect `width="stretch"` parameter. **Root cause**: October 26th commit mistakenly applied dataframe/Plotly parameter syntax to Altair charts. Different Streamlit chart types use different parameters: st.dataframe() uses `width="stretch"`, st.plotly_chart() uses `use_container_width=True`, and st.altair_chart() uses `use_container_width=True` (NOT `width`). Fixed render_altair_chart() function signature from `width: str = "stretch"` to `use_container_width: bool = True`. Updated all 28 call sites across 16 files to remove invalid `width="stretch"` parameter, relying on default `use_container_width=True`. **Error location**: College Explorer > Graduation Rates page (line 835) and all other Altair chart pages. **Result**: Eliminates TypeError "VegaChartsMixin.altair_chart() got an unexpected keyword argument 'width'"; all Altair charts now render correctly with full container width using proper Streamlit 1.50.0 API. | `src/ui/renderers.py:10-12`, `src/sections/college_explorer.py:835,1240,1308`, `src/charts/cost_vs_grad_chart.py:176`, `src/charts/roi_quadrant_chart.py:137`, `src/charts/roi_rankings_chart.py:129`, `src/charts/roi_distribution_chart.py:128`, `src/charts/distance_enrollment_trend_chart.py:318,388`, `src/charts/distance_de_trend_chart.py:375,441`, `src/charts/distance_top_enrollment_chart.py:286`, `src/charts/pell_top_dollars_chart.py:247`, `src/charts/pell_trend_chart.py:164`, `src/charts/pell_vs_grad_scatter_chart.py:115`, `src/charts/pell_grad_rate_scatter_chart.py:110`, `src/charts/loan_top_dollars_chart.py:202`, `src/charts/loan_trend_chart.py:242`, `src/charts/loan_vs_grad_scatter_chart.py:151` |
| 2025-10-27 | Enhance EP Analysis Program Distribution page with institution count and reorder navigation | Added "Number of Institutions" metric (3,936) as first of 5 Key Metrics cards on Program Distribution page, providing context before displaying program-level statistics. Expanded layout from 4 columns to 5 columns with new metric showing institutions with program-level completions data. Reordered EP Analysis sidebar navigation to place Program Distribution (position 6) before Institution Lookup (position 7), creating better logical flow: Overview ‚Üí Risk Distribution ‚Üí Risk Map ‚Üí Risk Quadrants ‚Üí Sector Comparison ‚Üí State Analysis ‚Üí Program Distribution ‚Üí Institution Lookup ‚Üí Methodology & Limitations. This progression moves from scale analysis to individual institution lookup, maintaining intuitive navigation hierarchy. **Result**: Enhanced Program Distribution page provides complete picture from institutions ‚Üí programs ‚Üí assessment scale; improved sidebar navigation places system-wide analysis before individual lookups. Minor whitespace cleanup in app.py (no functional change). | `src/sections/earnings_premium_analysis.py:1212,1218-1259`, `src/config/navigation.py:203-212`, `app.py:48` |
| 2025-10-26 | Fix Plotly chart deprecation warnings | Corrected st.plotly_chart() calls from incorrect width="stretch" to proper use_container_width=True parameter. Previous commit (Oct 26, "Fix Streamlit use_container_width deprecation warnings") mistakenly applied dataframe/Altair width parameter syntax to Plotly charts, causing **kwargs deprecation warnings ("keyword arguments have been deprecated and will be removed in a future release. Use config instead"). Plotly charts use use_container_width (boolean), not width parameter. Fixed 8 occurrences across earnings_premium_analysis.py (7) and roi_timeline_chart.py (1). **Result**: Eliminates all Plotly deprecation warnings without changing chart rendering behavior. Charts still render at full container width as intended. **Root cause**: Different chart types in Streamlit have different parameter names‚Äîst.plotly_chart() uses use_container_width, while st.dataframe() and Altair charts use width. | `src/sections/earnings_premium_analysis.py:288,492,752,990,1155,1293,1355`, `src/charts/roi_timeline_chart.py:115` |
| 2025-10-26 | Add Program Distribution tab to EP Analysis section | Implemented comprehensive Program Distribution page visualizing the scale of program-level Earnings Premium requirements (~165,000 programs across 3,900+ institutions). Created build_program_counts.py to process IPEDS completions data (C2024_a.csv), filtering to EP-relevant programs (6-digit CIP codes, Associate/Bachelor's/Master's/Doctoral levels, first majors only) and calculating unique program counts per institution. Generated program_counts.parquet with total_programs, assessable_programs (sufficient completers), total_completions, and avg_completions_per_program columns. Updated build_ep_metrics.py with add_program_counts() function to merge program data into EP analysis pipeline. Enhanced earnings_premium_analysis.py with _render_program_distribution() method (310 lines) featuring: summary metrics (4 cards), program distribution histogram (7 bins), sector breakdown (horizontal bar + table), top 25 institutions table with 3-year data points, and data collection challenge explainer. Updated navigation.py to add Program Distribution button between Institution Lookup and Methodology. Page presents data objectively using "show, don't tell" approach with neutral tone. Key findings: 165,649 total programs, 47,658 assessable programs (29%), median 27 programs per institution, largest portfolio 562 programs, 27√ó more data points than institutional tracking. Fixed file format issue (comma-delimited not space-delimited), handled BOM encoding (utf-8-sig), converted CIPCODE to string for regex matching. | `src/data/build_program_counts.py` (new, 254 lines), `src/data/build_ep_metrics.py:279-322,330-331,380`, `src/sections/earnings_premium_analysis.py:20,174-175,1161-1471,1334`, `src/config/constants.py:133,143`, `src/config/navigation.py:34,208-212`, `data/processed/program_counts.parquet` (new), `data/processed/ep_analysis.parquet` (updated with program columns) |
| 2025-10-26 | Reorder EP Analysis navigation for improved user flow | Reorganized Earnings Premium Analysis sidebar navigation buttons to create a more logical progression through analysis tools. **New order**: Overview ‚Üí Risk Distribution ‚Üí Risk Map ‚Üí Risk Quadrants ‚Üí Sector Comparison ‚Üí State Analysis ‚Üí Institution Lookup ‚Üí Methodology & Limitations. **Rationale**: Groups visualization tools together (Risk Map, Risk Quadrants) followed by comparison tools (Sector, State) before individual lookup, creating a natural flow from broad overview to specific details. Moved Risk Quadrants from position 6 to position 3, Sector Comparison from position 5 to position 4, State Analysis from position 4 to position 5, and Institution Lookup from position 3 to position 6. **Result**: Improved user experience with intuitive navigation flow; no functional changes to any pages; all routing logic works unchanged via label matching. | `src/config/navigation.py:176-212` |
| 2025-10-26 | Fix Streamlit use_container_width deprecation warnings | Replaced all deprecated `use_container_width` parameters with new `width` parameter throughout codebase to eliminate 17 deprecation warnings. **Changes**: Replaced `use_container_width=True` with `width="stretch"` in app.py navigation buttons (3 occurrences), earnings_premium_analysis.py plotly_chart and dataframe calls (10 occurrences), college_explorer.py dataframe call (1 occurrence), and roi_timeline_chart.py plotly_chart call (1 occurrence). Simplified src/ui/renderers.py by removing backwards-compatibility try/except blocks and obsolete `use_container_width` fallbacks, now using `width` parameter directly in render_altair_chart() and render_dataframe() functions. **Result**: Clean console output with no deprecation warnings; future-proofed for Streamlit versions after 2025-12-31; no functional changes to UI rendering behavior; all charts and dataframes render identically with new parameter. | `app.py:51,66,80`, `src/sections/earnings_premium_analysis.py:264,331,468,665,728,838,966,1033,1131,1192`, `src/sections/college_explorer.py:1325`, `src/charts/roi_timeline_chart.py:115`, `src/ui/renderers.py:1,10-17` |
| 2025-10-26 | Rename EP risk classifications to 4-level system | Renamed all Earnings Premium risk classifications from "Critical/High/Moderate/Low Risk" to "High/Moderate/Low/Very Low Risk" for clearer terminology. **Mapping**: Critical Risk (margin <0%) ‚Üí High Risk; High Risk (0-20%) ‚Üí Moderate Risk; Moderate Risk (20-50%) ‚Üí Low Risk; Low Risk (>50%) ‚Üí Very Low Risk. **Changes**: Updated risk categorization logic in build_ep_metrics.py with new return values and risk_level_map; regenerated ep_analysis.parquet with 6,429 institutions (distribution: Very Low 1,829, Low 1,422, Moderate 885, High 1,264, No Data 1,029); updated all UI displays across 6 EP Analysis pages including Overview risk definition cards, Risk Distribution tabs, Risk Map filters, State Analysis, Sector Comparison, and Risk Quadrants; updated color mappings to maintain consistency (green=Very Low, blue=Low, orange=Moderate, red=High); changed "At Risk" definition from "High+Critical" to "Moderate+High"; renamed summary metrics from "Critical Risk" to "High Risk" and "critical_count" to "high_risk_count"; updated ep_data_loader.py at_risk calculations in get_risk_summary(), get_sector_summary(), and get_national_summary(); updated test files with new valid_risk_levels set; updated all filter options, smart sorting logic, and help text throughout dashboard. **Result**: More intuitive risk naming with "High Risk" as worst category instead of "Critical Risk"; maintains same margin thresholds and institution assignments; all visualizations and data exports reflect new terminology. | `src/data/build_ep_metrics.py:228-250`, `src/sections/earnings_premium_analysis.py:87-130,212,243-249,289,308-310,380-384,418-423,547-553,711-717,780,807-811,948-953,990,1064`, `src/core/ep_data_loader.py:104-105,177,333-334,361-362`, `tests/test_ep_calculations.py:234`, `data/processed/ep_analysis.parquet` |
| 2025-10-26 | Refine EP Analysis navigation and add Risk Distribution institution lists | Completed comprehensive refactoring of Earnings Premium Analysis section with improved navigation and enhanced Risk Distribution page. **Navigation improvements**: Renamed sidebar buttons from "National Overview" to "Risk Distribution" and "Overview & Risk Map" to "Risk Map" for clarity; updated page titles to match sidebar labels; updated get_available_charts() to include EP_NATIONAL_OVERVIEW_LABEL for proper routing. **Risk Distribution page enhancements**: Added 5 tabs (Low Risk, Moderate Risk, High Risk, Critical Risk, No Data) below bar chart displaying complete institution lists for each risk category; each tab shows institution count, sortable data table with 7 columns (Institution, State, Median Earnings, State Threshold, Margin %, Sector, Enrollment), smart sorting (best performers first for Low/Moderate, worst first for High/Critical), and CSV download button; removed sector/state filters for cleaner UI; changed section header from "Risk Distribution" to "Institution Count by Risk Level" and removed redundant Plotly chart title. **Result**: Clear separation of Overview (educational content only) vs Risk Distribution (metrics + institution data); improved navigation consistency with concise, descriptive labels; complete institution transparency with downloadable lists by risk category; cleaner UI with single title and no redundant filters. Implementation: 80+ lines of tab-based institution lists, label constant updates, page title synchronization, routing fix in get_available_charts(). | `src/config/constants.py:127-128`, `src/sections/earnings_premium_analysis.py:14,179-180,235,256-262,280-373,361-362,1260` |
| 2025-10-25 | Add Risk Quadrants page to EP Analysis section | Implemented comprehensive Risk Quadrants visualization page with 4 tabs for detailed risk-based analysis of institutional earnings vs state thresholds. Each tab (Low Risk, Moderate Risk, High Risk, Critical Risk) displays scatter plot with X-axis = State threshold, Y-axis = Median earnings, color coding by sector (6 distinct colors matching other EP pages), reference line (y=x diagonal) showing earnings = threshold boundary, interactive hover tooltips with institution details (Name, State, Sector, Earnings, Threshold, Margin %), and summary metrics (Median Earnings, Median Threshold, Avg Margin %). Risk category breakdown: Low Risk 1,829 institutions (Margin > 50%), Moderate Risk 1,422 institutions (Margin 20-50%), High Risk 885 institutions (Margin 0-20%), Critical Risk 1,264 institutions (Margin < 0%). Visualization helps identify patterns in risk distribution across sectors and states, enabling targeted analysis of institutions near threshold boundaries. Implementation: Added EP_RISK_QUADRANTS_LABEL constant, updated navigation config with description "Scatter plots by risk category with sector colors", created _render_risk_quadrants() method (110 lines), updated render_chart() router, and added to get_available_charts() list. All 6 EP Analysis pages now complete. | `src/sections/earnings_premium_analysis.py:11,256-257,949-1058,1226-1235`, `src/config/constants.py:131,140`, `src/config/navigation.py:30,196-200`, `src/config/__init__.py:125` |
| 2025-10-25 | Improve Sector Comparison with comprehensive tab-based institution lists | Enhanced Sector Comparison page by replacing limited dropdown "Sector Deep Dive" (showing only top/bottom 10) with comprehensive tab-based view displaying ALL institutions in each sector. Created 6 sector tabs (For-profit/Private nonprofit/Public √ó 4yr/2yr) with complete institution lists: Public 4-year (777), Private nonprofit 4-year (1,283), For-profit 4-year (195), Public 2-year (786), Private nonprofit 2-year (63), For-profit 2-year (127). Each tab features institution count display, risk level multiselect filter, sortable/filterable data table with 7 columns (Institution, State, Median Earnings, State Threshold, Margin %, Risk Level, Enrollment), default sort by earnings margin descending (best performers first), and CSV download button for sector-specific data export. Tables display complete sector composition with proper formatting (currency with commas, percentages with 1 decimal). Improved user experience: complete sector visibility vs limited extremes, easier navigation with tabs vs dropdown, more informative columns including state threshold, sector-specific data export capability. Implementation: +77 lines replacing -33 lines of old dropdown code. Fixed Institution Lookup page TypeError by converting STABBR category dtype to string before concatenation (astype(str)). | `src/sections/earnings_premium_analysis.py:354,817-892` |
| 2025-10-25 | **Phase 2: State Analysis & Sector Comparison Pages** | Completed full Earnings Premium Analysis section with all 6 pages. Phase 2 adds comprehensive state-level and sector-level risk analysis. State Analysis page features state selector (50 states + DC + National Overview), state summary card with threshold ranking (e.g., "#8 highest nationally"), 3 metric cards (Institutions/Median Earnings/Avg Margin), risk distribution breakdown, filterable/sortable institutions table (by sector/risk), state vs national comparison table, and CSV download. National Overview shows summary statistics and risk distribution chart. Sector Comparison page features 6 sector overview cards in 2x3 grid (Public/Private/For-Profit √ó 4yr/2yr) color-coded by risk level (red >50%, orange >30%, green ‚â§30%), grouped bar chart showing risk distribution across sectors, sector deep dive with dropdown selector, and side-by-side top 10/bottom 10 performers tables. Enhanced data layer with get_national_summary() (cached national statistics), get_all_states() (59 states/territories), get_all_sectors() (6 sector types). Added EP_STATE_ANALYSIS_LABEL and EP_SECTOR_COMPARISON_LABEL constants, updated navigation with descriptions. Implementation: ~350 lines State Analysis, ~140 lines Sector Comparison, ~60 lines enhanced data loaders. Consistent styling with Phase 1C (gradient cards, color-coded risk levels). All 6 pages now complete: Overview, Overview & Risk Map, Institution Lookup, State Analysis (new), Sector Comparison (new), Methodology & Limitations. Validated with real data: 5,400 institutions nationally (39.8% at risk), California 672 institutions (threshold $32,476), Public 4-year 777 institutions (7.3% at risk). | `src/sections/earnings_premium_analysis.py:514-858` (+345 lines), `src/core/ep_data_loader.py:340-397` (+58 lines), `src/config/constants.py:129-131,137-139`, `src/config/navigation.py:30-31,185-194`, `src/config/__init__.py:123-124` |
| 2025-10-25 | **Phase 1C: Earnings Premium Analysis MVP UI** | Implemented complete Section 9: Earnings Premium Analysis with three pages assessing institutional readiness for July 1, 2026 EP requirements. Created comprehensive 700-line section class with Overview page (national summary statistics, risk distribution bar chart), Overview & Risk Map page (interactive Plotly scatter plot showing 6,429 institutions' earnings vs state thresholds with filters by risk level/sector/state, CSV download), Institution Lookup page (searchable dropdown, detailed risk assessment cards with color-coded borders, peer comparison tables showing 5 similar institutions by state/sector/enrollment), and Methodology & Limitations page (data sources table, risk calculation formula, example calculations, critical disclaimers about institution-level vs program-level analysis). Replaced old California-only EP section with national analysis. Updated navigation with 3 MVP chart configs (Phase 2 will add State Analysis and Sector Comparison). Risk categorization uses margin thresholds: Low (>50%), Moderate (20-50%), High (0-20%), Critical (<0%). All pages feature prominent limitation warnings that actual EP testing occurs at program level using IRS/SSA data. Data integration uses load_ep_data() and get_risk_summary() from ep_data_loader.py (committed in Phase 1B). Current risk distribution: 28.4% Low, 22.1% Moderate, 13.8% High, 19.7% Critical, 16.0% No Data across 5,400 institutions with assessments. Chart styling matches existing dashboard patterns with gradient hero sections, color-coded risk indicators (green/blue/orange/red), and comprehensive tooltips. | `src/sections/earnings_premium_analysis.py` (700 lines, new), `src/config/constants.py:125-140`, `src/config/navigation.py:28-30,163-191`, `src/config/__init__.py:121-125`, `src/sections/__init__.py:9`, `.gitignore:10-11` |
| 2025-10-25 | Add UI-configurable enrollment filter to College Value Grid | Implemented user-configurable enrollment filtering with radio buttons offering 5 options: All (>0), >500, >1,000 (default), >5,000, >10,000. Changed both 4-year and 2-year charts to default to 1,000 minimum enrollment (previously 4-year used 1,000, 2-year used 0). Filter selection persists via session state and dynamically updates chart captions and warnings. Added ENROLLMENT_FILTER_OPTIONS and DEFAULT_ENROLLMENT_FILTER constants, created _render_enrollment_filter() method in ValueGridSection, and enhanced chart caption formatting to show "all enrollment levels" when filter ‚â§ 1. | `src/config/constants.py:38,42-44,155`, `src/config/__init__.py:17-18,85-86`, `src/sections/value_grid.py:15-18,20,150-190,208`, `src/charts/cost_vs_grad_chart.py:32-40,155-168` |
| 2025-10-24 | **Release v1.0 - Production Ready** | First production release of EDU Accountability Lab dashboard. Includes 8 major sections (Overview, College Value Grid, Federal Loans, Pell Grants, Distance Education, Earnings Premium, ROI, College Explorer) with 6,000+ institutions, comprehensive visualizations, and tab-based navigation. Ready for public deployment with complete documentation, proper branding, and clear data scope limitations. | All files |
| 2025-10-24 | Pre-launch improvements: quadrant legend, scope warning, README, page config | Added quadrant legend to ROI Cost vs Earnings chart matching College Value Grid format (Top-Left = High Earnings Low Cost, etc.). Added prominent warning callout in ROI Overview section clarifying California 2-year institution scope (no UC/CSU systems). Completely rewrote README.md with project description, features list, quick start guide, data sources, project structure, and development instructions. Added Streamlit page config to app.py with branded title "EDU Accountability Lab", üìä icon, wide layout, and About menu text. | `src/charts/roi_quadrant_chart.py`, `src/sections/roi.py`, `README.md`, `app.py` |
| 2025-10-24 | Reorganize ROI Cost vs Earnings Quadrant data presentation with tabs | Restructured data display to match College Value Grid format with four tabs representing each quadrant (High Earnings Low Cost, High Earnings High Cost, Low Earnings Low Cost, Low Earnings High Cost). Replaced single table listing all institutions with tab-based navigation showing institution count and sorted tables within each quadrant. Tables display Institution, County, Sector, Net Price, Earnings, ROI years, and ROI months, sorted by ROI (best first) within each quadrant. Added custom CSS for larger tab fonts. Removed separate "Quadrant Summary" table as tab structure provides clearer organization. | `src/charts/roi_quadrant_chart.py` |
| 2025-10-24 | Change ROI Cost vs Earnings Quadrant coloring from ROI years to Sector | Modified scatter plot to color points by sector (Public/Private nonprofit/Private for-profit) instead of ROI years. Uses existing SECTOR_COLOR_SCALE (green for Public, purple for Private nonprofit, blue for Private for-profit). ROI information still available in tooltips. Updated caption to reflect sector-based coloring. This change makes sector patterns more visible in the cost vs earnings relationship. | `src/charts/roi_quadrant_chart.py` |
| 2025-10-24 | Remove Year-over-Year Change legend from College Explorer Distance Education chart | Added `legend=None` to the ChangeDirection color encoding in the points layer to hide the Year-over-Year Change legend (Increase, Same, Decrease). The color indicators still appear on data points and change direction information remains available in tooltips, but the redundant legend is now hidden for cleaner chart presentation. | `src/sections/college_explorer.py` |
| 2025-10-24 | Fix College Explorer Distance Education data display for 100% distance institutions | Modified data extraction logic to handle institutions with 100% exclusive distance education where `SDE_ENROLL_TOTAL` is empty. The code now gracefully handles missing `SDE_ENROLL_TOTAL` values by defaulting to 0, allowing institutions like Western Governors University (282,150 students, 100% distance education) to display correctly. Previously, empty `SDE_ENROLL_TOTAL` caused ValueError triggering "unavailable" message despite complete data. Only requires `TOTAL_ENROLL_2024` and `DE_ENROLL_2024` to be present; calculates "On Campus / Hybrid" as difference. | `src/sections/college_explorer.py` |
| 2025-10-24 | Fix redundant title text in College Value Grid charts | Updated Value Grid chart labels in constants to include "Rate" (from "Cost vs Graduation (4-year)" to "Cost vs Graduation Rate (4-year)") and simplified chart title rendering to use label directly instead of wrapping it with redundant text. This eliminates the display of "Cost vs. Graduation Rate (Cost vs Graduation (4-year))" and shows clean title "Cost vs Graduation Rate (4-year)". Same fix applied to 2-year charts. Navigation labels now more descriptive. | `src/config/constants.py`, `src/charts/cost_vs_grad_chart.py` |
| 2025-10-24 | Apply College Explorer line chart style to Distance Education trend charts | Replaced dotted lines with solid bold lines (`strokeWidth=3`) and separate colored circles with integrated filled points (`point=alt.OverlayMarkDef(size=100, filled=True)`) to match the professional styling used in College Explorer Federal Loans and Pell Grants charts. Simplified from two-layer charts (lines + points with dual color scales) to single-layer charts with cleaner appearance. Year-over-year change information still available in tooltips but removed from visual encoding for clearer presentation. Updated captions to reflect new style. Applied to both Total Enrollment Trend and Exclusive Distance Education Trend charts. | `src/charts/distance_enrollment_trend_chart.py`, `src/charts/distance_de_trend_chart.py` |
| 2025-10-24 | Add stacked bar chart to College Explorer Distance Education page | Added stacked bar visualization below the line chart on the Distance Education institution search page, showing enrollment composition breakdown (Exclusive Distance + On Campus/Hybrid = Total Enrollment) by year. Chart displays only the two components that sum to total, with orange for Exclusive Distance and green for On Campus/Hybrid. Y-axis shows Total Enrollment with ~s formatting for clean SI prefix labels. Page now features: line chart (trends with YoY changes), stacked bar chart (composition view), and data table (exact values). | `src/sections/college_explorer.py` |
| 2025-10-24 | Move Institution Distance Search to College Explorer section | Relocated "Institution Distance Search" functionality from Distance Education section to College Explorer section and renamed it to "Distance Education" for better organizational consistency. All institution-level analysis now consolidated under College Explorer (Summary, Federal Loans & Pell Grants, Graduation Rates, Distance Education). Removed method from Distance Education section, which now contains only aggregate trend charts (Top 25, Total Enrollment Trend, Exclusive DE Trend). | `src/sections/college_explorer.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/__init__.py` |
| 2025-10-24 | Enhance Distance Education trend charts with stacked bar visualizations | Removed duplicate Year-over-Year Change legends from both trend charts. Added stacked bar charts underneath line charts for Total Enrollment Trend and Exclusive Distance Education Trend, providing market composition view complementing individual trajectory analysis. Replaced percentage line chart in Exclusive DE Trend with stacked bar. Fixed y-axis formatting from `.1s` to `~s` to eliminate duplicate labels and scientific notation, providing clean SI prefix labels (200k, 1M, 1.2M). Both charts now feature: line chart (trajectories + YoY changes), stacked bar chart (market composition), and data table (exact values). | `src/charts/distance_enrollment_trend_chart.py`, `src/charts/distance_de_trend_chart.py` |
| 2025-10-19 | Refine College Value Grid overview narrative | Annotated each quadrant directly within the illustrative grid, added adjacent callouts, removed redundant reading/how-to sections, and tuned typography/colors for clearer value framing. | `src/sections/value_grid.py` |
| 2025-10-19 | Normalize overview hero styling across sections | Darkened the landing page hero gradient and added an Earnings Premium & ROI focus bullet; replicated the streamlined hero block (icons, gradient, smaller typography, section-specific subtitles) across Value Grid, Federal Loans, Pell Grants, Distance Education, Earnings Premium, ROI, and College Explorer overviews for a consistent visual entry point. | `src/sections/overview.py`, `src/sections/value_grid.py`, `src/sections/federal_loans.py`, `src/sections/pell_grants.py`, `src/sections/distance_education.py`, `src/sections/earnings_premium.py`, `src/sections/roi.py`, `src/sections/college_explorer.py` |
| 2025-10-17 | Add distance education search & provenance clarifications | Introduced a dedicated ‚ÄúInstitution Distance Search‚Äù navigation item with metrics, Altair trend lines, and supporting table; enhanced Distance Education overview copy, chart tooltips, and dropdown handling; added data provenance notes for Value Grid, College Explorer, Earnings Premium, and ROI, plus a De Anza summary memo. | `src/sections/distance_education.py`, `src/config/constants.py`, `docs/data_provenance.md`, `docs/deanza_data_review.md`, `docs/article_what_is_lost_summary.md` |
| 2025-10-07 | Split ROI section into Earnings Premium and ROI sections | Reorganized sidebar navigation by extracting earnings premium analysis into dedicated section. Created new EarningsPremiumSection class with stub Overview page and 2 charts (Earnings Premium All, Earnings Premium Rankings). Updated ROI section to retain 3 charts (Cost vs Earnings Quadrant, Top 25 ROI Rankings, ROI by Sector). Reordered navigation to: Home ‚Üí College Value Grid ‚Üí Federal Loans ‚Üí Pell Grants ‚Üí Distance Education ‚Üí Earnings Premium ‚Üí ROI ‚Üí College Explorer (moved to bottom). Updated all configuration files, imports, and session state management for new 8-section structure. | `src/sections/earnings_premium.py` (new), `src/sections/roi.py:173-195,468-474`, `src/config/constants.py:15-16,119-139,152-154`, `src/config/navigation.py:14-15,26-31,160-221,232-235`, `src/config/__init__.py:9-10,44-47,73-74,114-117`, `src/sections/__init__.py:9-10,20-21`, `app.py:14-15,25-27,93-95` |
| 2025-10-07 | Expand ROI dataset to all 327 California institutions | Updated OPEID‚ÜíUnitID mapping file from 109 to 262 institutions by searching IPEDS database for all missing institutions. Successfully mapped all 153 missing colleges including Pacific College, Stanbridge University, and Pacific College of Health and Science. Regenerated ROI metrics dataset expanding coverage from 116 to 327 institutions (186 private for-profit, 121 public, 20 private non-profit). Relaxed ROI validation threshold from 100 to 200 years to accommodate beauty/cosmetology schools with longer payback periods. All ROI dashboard pages now display complete California institution roster. | `data/raw/epanalysis/opeid_unitid_mapping.csv`, `data/processed/roi_metrics.parquet`, `src/data/build_roi_metrics.py:147-148` |
| 2025-10-07 | Add Earnings Premium Rankings page to ROI section | Implemented side-by-side comparison of C-Metric (statewide baseline) vs H-Metric (regional baseline) earnings premium rankings. Created two-column layout with üìä bar chart icons, synchronized scrollable tables showing Rank, Institution, Sector, and Earnings Premium for all 327 institutions. Tables sorted by respective premium values with currency formatting. Added comprehensive explanatory text about ranking differences, geographic context impacts, and key observations. New page positioned after "Earnings Premium (All)" in navigation. | `src/sections/roi.py:384-470`, `src/config/constants.py:121,128`, `src/config/__init__.py:54,121` |
| 2025-10-07 | Revise ROI Overview with federal policy framework | Replaced California-specific dual baseline methodology content with national policy focus. Updated overview to explain One Big Beautiful Bill Act (OBBBA), Earnings Premium Test framework, undergraduate vs graduate program benchmarks, two-out-of-three-year failure consequences, and Postsecondary Value Commission's Threshold 0. Added "Visualizing ROI" section with 3-step student path explanation and practical examples (Maya vs Leo) illustrating positive and negative ROI scenarios. Removed colored methodology box, replaced with plain markdown for cleaner presentation. Fixed dollar sign syntax warnings using raw strings (r"""). | `src/sections/roi.py:20-116` |
| 2025-10-07 | Add Earnings Premium (All) comparison table to ROI section | Created comprehensive earnings premium analysis page showing statewide (C-Metric) vs regional (H-Metric) baselines for all California institutions. Implemented sortable dataframe with Institution, County, C-Metric (\$24,939 statewide), H-Metric (county-specific), and Delta columns. Added detailed explanatory sections about baseline methodologies, geographic influences on ROI rankings, and data source attributions. Positioned as first chart in ROI navigation after Overview. Fixed Streamlit deprecation by replacing use_container_width=True with width="stretch". | `src/sections/roi.py:308-382`, `src/config/constants.py:120,126-129`, `src/config/__init__.py:53,120` |
| 2025-10-07 | Add Plotly dependency for ROI timeline visualization | Added plotly>=5.0 to project dependencies in pyproject.toml to support interactive ROI timeline charts. Created roi_timeline_chart.py module with Maya vs Jordan earnings trajectory visualization showing 16-year timeline, tuition period shading, graduation marker, and evaluation point. Module implements growth rates (Jordan 2%/year, Maya 3%/year), investment cost display, and comprehensive hover tooltips. Chart integration later removed from overview but module remains available for future use. | `pyproject.toml:10`, `src/charts/roi_timeline_chart.py` |
| 2025-10-06 | Phase 2: ROI Section Implementation | Implemented complete ROI section with 3 interactive visualizations for California institutions. Created Cost vs Earnings Quadrant scatter plot with color-coded ROI gradient (green=fast, red=slow), median reference lines, and quadrant summary statistics. Built Top/Bottom 25 Rankings chart with horizontal bars showing fastest/slowest ROI payback, nested tabs for statewide/regional baselines and top/bottom views. Developed ROI Distribution by Sector box plot with overlay points showing median, quartiles, and outliers across public/private nonprofit/private for-profit sectors. All charts feature dual baseline tabs (statewide $24,939 vs county-specific), comprehensive tooltips with institution details, and detailed data tables. Updated roi.py with full tab-based navigation and chart rendering methods. Tested dashboard successfully - all ROI charts render without errors. | `src/charts/roi_quadrant_chart.py`, `src/charts/roi_rankings_chart.py`, `src/charts/roi_distribution_chart.py`, `src/sections/roi.py:160-268` |
| 2025-10-06 | Phase 1: ROI Analysis Data Migration | Migrated ROI (Return on Investment) analysis from epanalysis repository for 116 California institutions. Downloaded 3 CSV files (roi-metrics.csv, gr-institutions.csv, hs_median_county_25_34.csv) from epanalysis repository. Built OPEID ‚Üí UnitID mapping script matching 109 institutions using OPEID4 prefix matching. Created ROI metrics processing pipeline generating optimized Parquet file (20.4 KB, float32/Int16/category types). Added ROIMetrics dataclass to data models with validation. Enhanced DataManager with load_roi_metrics() cached method and get_institution_roi(unit_id) lookup. Updated configuration with ROI data source paths and chart label constants (ROI_QUADRANT_LABEL, ROI_RANKINGS_LABEL, ROI_DISTRIBUTION_LABEL, COLLEGE_EXPLORER_ROI_LABEL). Created metadata.yaml documenting data provenance and dual baseline methodology (statewide $24,939 vs county-specific). Dataset includes median ROI of 0.46 years (5.5 months), sector breakdown: 93 Public, 20 Private for-profit, 3 Private non-profit. Foundation ready for Phase 2 ROI section implementation. | `data/raw/epanalysis/roi-metrics.csv`, `data/raw/epanalysis/gr-institutions.csv`, `data/raw/epanalysis/hs_median_county_25_34.csv`, `data/raw/epanalysis/metadata.yaml`, `data/raw/epanalysis/opeid_unitid_mapping.csv`, `data/processed/roi_metrics.parquet`, `src/data/build_roi_opeid_mapping.py`, `src/data/build_roi_metrics.py`, `src/data/models.py:14-72`, `src/core/data_manager.py:32,202-244`, `src/config/data_sources.py:33,171-188,233-236`, `src/config/constants.py:118-131`, `docs/roi_feature_plan.md` |
| 2025-10-06 | Add percentage-based trend chart to Exclusive Distance Education analysis | Enhanced Exclusive Distance Education Trend chart with dual visualization: original enrollment trend chart showing absolute numbers, plus new percentage chart displaying each institution's share of total enrollment among top 10 (0-25% y-axis range for improved readability). Percentage calculation: (institution enrollment / sum of top 10 enrollment) √ó 100. Data table now includes both enrollment figures and percentage columns for each year. Provides market share perspective alongside absolute enrollment trends. | `src/charts/distance_de_trend_chart.py:137-149,187-200,203-290,382-457` |
| 2025-10-06 | Fix Distance Education chart labels and descriptions | Corrected misleading chart labels and descriptions throughout Distance Education section. Changed "Top 25 Distance Education Enrollment" to "Top 25 Total Enrollment (Distance Education Breakdown)" to clarify it ranks by total enrollment, not DE enrollment. Added "(Top 10 Institutions)" qualifiers to trend chart labels. Updated Overview page descriptions to accurately reflect what each chart displays. Fixed chart routing and get_available_charts() to use constants. Maintained backward compatibility for old chart labels. | `src/config/constants.py:94-102`, `src/config/__init__.py:39-41,97-99`, `src/sections/distance_education.py:10,50,66-102,110-116,149-156,265-269`, `src/charts/distance_top_enrollment_chart.py:284`, `src/charts/distance_enrollment_trend_chart.py:346`, `src/charts/distance_de_trend_chart.py:360` |
| 2025-10-03 | Create comprehensive Overview pages for all dashboard sections | Redesigned all section Overview pages with consistent formatting and enhanced visual hierarchy: College Value Grid with 2x2 quadrant grid, Federal Loans with 3-column chart descriptions, Pell Grants with need-based aid focus, Distance Education with COVID-19 context, and College Explorer with institution-level analysis. All pages feature st.title() headings, key insight callouts, custom HTML bordered boxes (220px height for Distance Education, 200px for College Explorer, consistent styling across all), dividers between sections, "What is this?", "How to Explore", "How to Use", and "What the Data Shows" subsections. Corrected all data source attributions to IPEDS (Integrated Postsecondary Education Data System). | `src/sections/value_grid.py:23-134`, `src/sections/federal_loans.py:34-150`, `src/sections/pell_grants.py:35-151`, `src/sections/distance_education.py:18-142`, `src/sections/college_explorer.py:33-153` |
| 2025-09-29 | Enhance College Explorer Summary with enrollment and graduation metrics | Redesigned Summary tab to display focused institutional information: simplified to show only name, address, and sector; added enrollment metrics (Total, Exclusive Distance Ed, Some Distance Ed) from distance education dataset; implemented comprehensive graduation rates section with institutional rates, sector-specific medians (4-year vs 2-year), and z-score calculations for both overall and Pell student graduation rates. Removed placeholder "Additional Information" section for cleaner presentation. | `src/sections/college_explorer.py:5,28-29,187-363` |
| 2025-09-28 | Add Graduation Rates tab to College Explorer | Implement comprehensive graduation rate analysis featuring dual-line trend visualization (Overall vs Pell student rates), horizontal reference lines at 25%/50%/75%, institution search functionality, and detailed summary statistics. Includes data integration for pellgradrates.csv, trend analysis with equity gap calculations, historical averages, and directional indicators. Provides 2016-2023 graduation rate trends with professional chart styling matching existing dashboard. | `src/sections/college_explorer.py:17,107,553-841`, `src/config/constants.py:109,114`, `src/config/__init__.py:46,104`, `src/config/data_sources.py:78-82,212`, `src/core/data_manager.py:31,53,106-115` |
| 2025-09-28 | Add cumulative totals to College Explorer Federal Loans and Pell Grants | Enhanced Summary Statistics section with cumulative totals (2008-2022) for Pell Grants, Federal Loans, and Total Aid, providing comprehensive view of total federal investment over 15-year period alongside existing recent year and year-over-year change metrics. | `src/sections/college_explorer.py:478-521` |
| 2025-09-28 | Add Federal Loans and Pell Grants tab to College Explorer | Implement new tab featuring combined trend visualization with three lines (Pell Grants, Federal Loans, Total Aid) for selected institutions. Includes institution search, interactive chart with professional styling matching existing trend charts, summary statistics with recent year values, and year-over-year change analysis. Provides comprehensive financial aid analysis for individual colleges. | `src/sections/college_explorer.py:271-529`, `src/config/constants.py:108`, `src/config/__init__.py:45,102` |
| 2025-09-28 | Activate College Explorer search functionality | Transform disabled placeholder search into functional institution selection using Streamlit selectbox with 6,050+ institutions. Implemented searchable dropdown with "Institution - City, State" format, institution summary display showing sector, control type, and special designations, proper data mapping from codes to human-readable descriptions, and foundation for future metric integration. | `src/sections/college_explorer.py:103-266`, `src/core/data_manager.py:28,46,89-99` |
| 2025-09-28 | Add College Explorer section to dashboard | Introduce new sidebar group "College Explorer" with Overview and Summary tabs for exploring individual college data. Created section infrastructure with placeholder for institution search and selection, comprehensive overview page explaining future features, and integration with existing navigation system. Sets foundation for detailed institutional analysis features. | `src/sections/college_explorer.py`, `src/config/constants.py:15,105-113`, `src/config/navigation.py:14,24-25,154-173,184`, `src/config/__init__.py:6,42-45,54,98-102`, `src/sections/__init__.py:9,18`, `app.py:14,22,88` |
| 2025-09-28 | Simplify landing page design and fix navigation card heights | Removed background colors from Our Mission, Metrics for Accountability, Government Funding Analysis, and Important Disclaimer sections. Converted Our Mission and Important Disclaimer to subheaders matching Current Focus Areas style. Restructured Metrics for Accountability and Government Funding Analysis as bullet list items. Fixed navigation cards to have consistent heights (260px) with proper flexbox layout. | `src/sections/overview.py` |
| 2025-09-27 | Add data tables to Distance Education trend charts and fix Streamlit warnings | Enhanced both Total Enrollment Trend and Distance Education Trend charts with comprehensive data tables showing yearly enrollment figures, percentage changes, and institutional details. Fixed Streamlit deprecation warnings by replacing use_container_width with width parameter and resolved mixed column type warnings by converting year columns to strings. Data tables include formatted numbers with commas, percentage change calculations, and proper sorting by anchor year enrollment. | `src/charts/distance_enrollment_trend_chart.py`, `src/charts/distance_de_trend_chart.py` |
| 2025-09-27 | Add Distance Education Trend chart for exclusive DE enrollment analysis | Implement trend visualization for top 10 institutions by exclusive distance education enrollment in 2024, tracking DE_ENROLL trends from 2020-2024. Features institution-based dotted lines with YoY change indicators (green=increase, red=decrease). Includes robust handling of zero values and percentage calculations, tab-based 4-year/2-year navigation, enhanced font sizing (.1s format for thousands), and comprehensive tooltips. Provides insights into institutional distance education program growth during COVID period. | `src/charts/distance_de_trend_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/__init__.py` |
| 2025-09-27 | Add Total Enrollment Trend chart to Distance Education section | Implement enrollment trend visualization following Pell Dollars Trend pattern, showing top 10 institutions by 2024 enrollment with year-over-year trajectories from 2020-2024. Features dotted lines colored by institution and points colored by enrollment change direction (green=increase, red=decrease). Includes tab-based 4-year/2-year navigation, comprehensive tooltips with YoY percentage changes, and robust data processing for multi-year enrollment analysis. | `src/charts/distance_enrollment_trend_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/__init__.py` |
| 2025-09-27 | Add Distance Education section with enrollment breakdown visualization | Implement comprehensive Distance Education section featuring top 25 institutions by enrollment with stacked bar visualization showing exclusively distance education, some distance education, and in-person only students. Added complete data integration (schema, sources, loader), chart module with tab-based 4-year/2-year navigation, section class following established patterns, and enhanced overview page with four-column navigation layout. | `src/charts/distance_top_enrollment_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/navigation.py`, `src/config/__init__.py`, `src/config/data_sources.py`, `src/core/data_manager.py`, `src/sections/__init__.py`, `src/sections/overview.py`, `data/dictionary/schema.json`, `data/dictionary/sources.yaml`, `app.py` |
| 2025-09-27 | Enhance landing page visual design and user experience | Transform plain overview page with enhanced hero section, colored containers, multi-column layouts, and interactive navigation cards. Added gradient hero banner, info/success/warning containers for different content types, visual hierarchy with icons and consistent color theming matching dashboard charts. | `src/sections/overview.py` |
| 2025-09-27 | Enhance Pell Grants Trend chart with institutional coloring and change indicators | Apply same enhancements as Federal Loans trend chart: institution-based coloring with dotted lines, year-over-year change calculation, green/red dot indicators for performance changes. Enhanced tooltips with percentage changes and dual legends for institutions and change directions. | `src/charts/pell_trend_chart.py` |
| 2025-09-27 | Enhance Federal Loan Trend chart with institutional coloring and change indicators | Transform trend chart from sector-based to institution-based coloring with dotted lines. Added year-over-year change calculation with green/red dot indicators (green for increase/same, red for decrease). Enhanced tooltips with percentage changes and dual legends for institutions and change directions. | `src/charts/loan_trend_chart.py` |
| 2025-09-27 | Enable Pell Grants stacked bar visualization | Fixed Pell chart to use raw data with year columns instead of pre-aggregated processed data. Modified chart function to accept metadata, updated section to use sector filtering, and ensured consistent stacked bar visualization across both Federal Loans and Pell Grants sections. | `src/sections/pell_grants.py`, `src/charts/pell_top_dollars_chart.py` |
| 2025-09-27 | Transform Pell Grants chart to stacked bar | Modified Top 25 Pell Dollar Recipients chart to match Federal Loans stacked bar design. Each stack shows yearly breakdown with Viridis color scale. Reshapes data to long format, adds yearly breakdown table, and maintains sector information in tooltips. | `src/charts/pell_top_dollars_chart.py` |
| 2025-09-27 | Transform Federal Loans chart to stacked bar | Modified Top 25 Federal Loan Dollars chart from simple bars colored by sector to stacked bars with yearly breakdown (2008-2022). Each stack represents a year with Viridis color scale, preserving sector info in tooltips. Added yearly breakdown table and fixed sorting issues. | `src/charts/loan_top_dollars_chart.py` |
| 2025-09-27 | Consolidate Pell Grants navigation with tabs | Implemented tab-based navigation for Pell Grants section, reducing sidebar from 6 individual chart buttons to 3 consolidated buttons with 4-year/2-year tabs. Enhanced user experience with consistent navigation pattern matching Federal Loans section. | `src/config/__init__.py`, `src/config/constants.py`, `src/sections/pell_grants.py` |
| 2025-09-27 | Implement comprehensive data dictionary and governance | Created machine-readable data dictionary with field-level validation, comprehensive source registry with provenance tracking, reorganized raw data by source (IPEDS/FSA), added data model classes for type safety, and created extensive documentation for data strategy and governance. | `data/dictionary/`, `data/raw/ipeds/`, `data/raw/fsa/`, `src/data/models.py`, `docs/DATA_DICTIONARY.md`, `docs/DATA_STRATEGY.md` |
| 2025-09-27 | Major architecture refactoring | Extracted all business logic from app.py into modular components: config modules for constants/navigation/data sources, core modules for data management, section classes for each dashboard area, and state management for session handling. Reduced app.py from 648 to ~120 lines. | `app_refactored.py`, `src/config/`, `src/core/`, `src/sections/`, `src/state/`, `CLAUDE.md` |
| 2025-09-26 | Enhanced value grid axis styling | Increased font size and bold weight on cost and graduation axis titles for both four- and two-year scatter charts to improve legibility. | `src/charts/cost_vs_grad_chart.py`, `LOG.md` |
| 2025-09-26 | Added overview navigation | Reworked sidebar expanders with overview pages and guidance copy for value grid, loans, and Pell sections. | `app.py`, `LOG.md` |
| 2025-09-25 | Added federal loan trend charts | Introduced four- and two-year federal loan trend visuals aligned with existing Pell charts, sizing bubbles by enrollment for consistency. | `app.py`, `src/charts/loan_trend_chart.py`, `src/charts/pell_vs_grad_scatter_chart.py`, `src/charts/loan_vs_grad_scatter_chart.py` |
| 2025-09-25 | Added federal loan scatter charts | Introduced four- and two-year federal loan vs graduation rate scatter visuals to mirror Pell comparisons. | `app.py`, `src/charts/loan_vs_grad_scatter_chart.py` |
| 2025-09-25 | Added Federal Loans section | Introduced a Federal Loans section with top-dollar charts for four- and two-year institutions sourced from the federal loan dataset. | `app.py`, `src/charts/loan_top_dollars_chart.py` |
| 2025-09-25 | Streamlined value grid UI | Removed enrollment legend from the value grid charts and increased quadrant tab font size for readability. | `src/charts/cost_vs_grad_chart.py` |
| 2025-09-25 | Added landing overview | Introduced a project overview landing page so Streamlit opens with context before navigating to charts. | `app.py` |
| 2024-11-24 | Updated enrollment filter | Enrollment control now uses fixed setpoints (0, 1k, 2.5k, 5k, 10k, 25k, 50k, 100k cap). | `src/dashboard/cost_vs_grad.py` |
| 2024-11-24 | Added two-year dashboard view | Introduced dual cost vs graduation charts for 4-year and 2-year institutions with shared filters. | `app.py`, `src/dashboard/cost_vs_grad.py`, `src/charts/cost_vs_grad_chart.py` |
| 2024-11-24 | Extended dataset builder | Builder now materializes four-year and two-year tuition vs graduation exports. | `src/data/build_tuition_vs_graduation.py`, `src/data/datasets.py`, `data/processed/tuition_vs_graduation.csv`, `data/processed/tuition_vs_graduation_two_year.csv` |
| 2024-11-24 | Added dataset builder | Added script to regenerate tuition vs graduation export for sectors 1-3 and refreshed processed CSV. | `src/data/build_tuition_vs_graduation.py`, `data/processed/tuition_vs_graduation.csv` |
| 2024-11-24 | Refactor committed | Finalized Streamlit refactor, modularizing dashboard logic for long-term maintenance. | `app.py`, `src/` |
| 2024-11-24 | Refactored Streamlit entry point | Moved business logic into `src/` modules and slimmed down `app.py`. | `app.py`, `src/` |
| 2024-11-24 | Added contributor guide | Replaced prior content with concise repository guidelines for agents. | `AGENTS.md` |
| 2024-11-24 | Initialized logbook | Created ongoing markdown log for tracking repository updates. | `LOG.md` |

## Update Instructions
- Append new rows with the current date (ISO format) and a short title.
- Summarize the change in one sentence; link to issues or PRs when relevant.
- Reference touched paths using backticks to keep entries scannable.
- Keep the table sorted with newest entries on top to surface recent work.
