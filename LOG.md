# Change Log

| Date | Change | Details | Files |
| --- | --- | --- | --- |
| 2025-10-06 | Phase 2: ROI Section Implementation | Implemented complete ROI section with 3 interactive visualizations for California institutions. Created Cost vs Earnings Quadrant scatter plot with color-coded ROI gradient (green=fast, red=slow), median reference lines, and quadrant summary statistics. Built Top/Bottom 25 Rankings chart with horizontal bars showing fastest/slowest ROI payback, nested tabs for statewide/regional baselines and top/bottom views. Developed ROI Distribution by Sector box plot with overlay points showing median, quartiles, and outliers across public/private nonprofit/private for-profit sectors. All charts feature dual baseline tabs (statewide $24,939 vs county-specific), comprehensive tooltips with institution details, and detailed data tables. Updated roi.py with full tab-based navigation and chart rendering methods. Tested dashboard successfully - all ROI charts render without errors. | `src/charts/roi_quadrant_chart.py`, `src/charts/roi_rankings_chart.py`, `src/charts/roi_distribution_chart.py`, `src/sections/roi.py:160-268` |
| 2025-10-06 | Phase 1: ROI Analysis Data Migration | Migrated ROI (Return on Investment) analysis from epanalysis repository for 116 California institutions. Downloaded 3 CSV files (roi-metrics.csv, gr-institutions.csv, hs_median_county_25_34.csv) from epanalysis repository. Built OPEID → UnitID mapping script matching 109 institutions using OPEID4 prefix matching. Created ROI metrics processing pipeline generating optimized Parquet file (20.4 KB, float32/Int16/category types). Added ROIMetrics dataclass to data models with validation. Enhanced DataManager with load_roi_metrics() cached method and get_institution_roi(unit_id) lookup. Updated configuration with ROI data source paths and chart label constants (ROI_QUADRANT_LABEL, ROI_RANKINGS_LABEL, ROI_DISTRIBUTION_LABEL, COLLEGE_EXPLORER_ROI_LABEL). Created metadata.yaml documenting data provenance and dual baseline methodology (statewide $24,939 vs county-specific). Dataset includes median ROI of 0.46 years (5.5 months), sector breakdown: 93 Public, 20 Private for-profit, 3 Private non-profit. Foundation ready for Phase 2 ROI section implementation. | `data/raw/epanalysis/roi-metrics.csv`, `data/raw/epanalysis/gr-institutions.csv`, `data/raw/epanalysis/hs_median_county_25_34.csv`, `data/raw/epanalysis/metadata.yaml`, `data/raw/epanalysis/opeid_unitid_mapping.csv`, `data/processed/roi_metrics.parquet`, `src/data/build_roi_opeid_mapping.py`, `src/data/build_roi_metrics.py`, `src/data/models.py:14-72`, `src/core/data_manager.py:32,202-244`, `src/config/data_sources.py:33,171-188,233-236`, `src/config/constants.py:118-131`, `docs/roi_feature_plan.md` |
| 2025-10-06 | Add percentage-based trend chart to Exclusive Distance Education analysis | Enhanced Exclusive Distance Education Trend chart with dual visualization: original enrollment trend chart showing absolute numbers, plus new percentage chart displaying each institution's share of total enrollment among top 10 (0-25% y-axis range for improved readability). Percentage calculation: (institution enrollment / sum of top 10 enrollment) × 100. Data table now includes both enrollment figures and percentage columns for each year. Provides market share perspective alongside absolute enrollment trends. | `src/charts/distance_de_trend_chart.py:137-149,187-200,203-290,382-457` |
| 2025-10-06 | Fix Distance Education chart labels and descriptions | Corrected misleading chart labels and descriptions throughout Distance Education section. Changed "Top 25 Distance Education Enrollment" to "Top 25 Total Enrollment (Distance Education Breakdown)" to clarify it ranks by total enrollment, not DE enrollment. Added "(Top 10 Institutions)" qualifiers to trend chart labels. Updated Overview page descriptions to accurately reflect what each chart displays. Fixed chart routing and get_available_charts() to use constants. Maintained backward compatibility for old chart labels. | `src/config/constants.py:94-102`, `src/config/__init__.py:39-41,97-99`, `src/sections/distance_education.py:10,50,66-102,110-116,149-156,265-269`, `src/charts/distance_top_enrollment_chart.py:284`, `src/charts/distance_enrollment_trend_chart.py:346`, `src/charts/distance_de_trend_chart.py:360` |
| 2025-10-03 | Create comprehensive Overview pages for all dashboard sections | Redesigned all section Overview pages with consistent formatting and enhanced visual hierarchy: College Value Grid with 2x2 quadrant grid, Federal Loans with 3-column chart descriptions, Pell Grants with need-based aid focus, Distance Education with COVID-19 context, and College Explorer with institution-level analysis. All pages feature st.title() headings, key insight callouts, custom HTML bordered boxes (220px height for Distance Education, 200px for College Explorer, consistent styling across all), dividers between sections, "What is this?", "How to Explore", "How to Use", and "What the Data Shows" subsections. Corrected all data source attributions to IPEDS (Integrated Postsecondary Education Data System). | `src/sections/value_grid.py:23-134`, `src/sections/federal_loans.py:34-150`, `src/sections/pell_grants.py:35-151`, `src/sections/distance_education.py:18-142`, `src/sections/college_explorer.py:33-153` |
| 2025-09-29 | Enhance College Explorer Summary with enrollment and graduation metrics | Redesigned Summary tab to display focused institutional information: simplified to show only name, address, and sector; added enrollment metrics (Total, Exclusive Distance Ed, Some Distance Ed) from distance education dataset; implemented comprehensive graduation rates section with institutional rates, sector-specific medians (4-year vs 2-year), and z-score calculations for both overall and Pell student graduation rates. Removed placeholder "Additional Information" section for cleaner presentation. | `src/sections/college_explorer.py:5,28-29,187-363` |
| 2025-09-28 | Add Graduation Rates tab to College Explorer | Implement comprehensive graduation rate analysis featuring dual-line trend visualization (Overall vs Pell student rates), horizontal reference lines at 25%/50%/75%, institution search functionality, and detailed summary statistics. Includes data integration for pellgradrates.csv, trend analysis with equity gap calculations, historical averages, and directional indicators. Provides 2016-2023 graduation rate trends with professional chart styling matching existing dashboard. | `src/sections/college_explorer.py:17,107,553-841`, `src/config/constants.py:109,114`, `src/config/__init__.py:46,104`, `src/config/data_sources.py:78-82,212`, `src/core/data_manager.py:31,53,106-115` |
| 2025-09-28 | Add cumulative totals to College Explorer Federal Loans and Pell Grants | Enhanced Summary Statistics section with cumulative totals (2008-2022) for Pell Grants, Federal Loans, and Total Aid, providing comprehensive view of total federal investment over 15-year period alongside existing recent year and year-over-year change metrics. | `src/sections/college_explorer.py:478-521` |
| 2025-09-28 | Add Federal Loans and Pell Grants tab to College Explorer | Implement new tab featuring combined trend visualization with three lines (Pell Grants, Federal Loans, Total Aid) for selected institutions. Includes institution search, interactive chart with professional styling matching existing trend charts, summary statistics with recent year values, and year-over-year change analysis. Provides comprehensive financial aid analysis for individual colleges. | `src/sections/college_explorer.py:271-529`, `src/config/constants.py:108`, `src/config/__init__.py:45,102` |
| 2025-09-28 | Activate College Explorer search functionality | Transform disabled placeholder search into functional institution selection using Streamlit selectbox with 6,050+ institutions. Implemented searchable dropdown with "Institution - City, State" format, institution summary display showing sector, control type, and special designations, proper data mapping from codes to human-readable descriptions, and foundation for future metric integration. | `src/sections/college_explorer.py:103-266`, `src/core/data_manager.py:28,46,89-99` |
| 2025-09-28 | Add College Explorer section to dashboard | Introduce new sidebar group "College Explorer" with Overview and Summary tabs for exploring individual college data. Created section infrastructure with placeholder for institution search and selection, comprehensive overview page explaining future features, and integration with existing navigation system. Sets foundation for detailed institutional analysis features. | `src/sections/college_explorer.py`, `src/config/constants.py:15,105-113`, `src/config/navigation.py:14,24-25,154-173,184`, `src/config/__init__.py:6,42-45,54,98-102`, `src/sections/__init__.py:9,18`, `app.py:14,22,88` |
| 2025-09-28 | Simplify landing page design and fix navigation card heights | Removed background colors from Our Mission, Metrics for Accountability, Government Funding Analysis, and Important Disclaimer sections. Converted Our Mission and Important Disclaimer to subheaders matching Current Focus Areas style. Restructured Metrics for Accountability and Government Funding Analysis as bullet list items. Fixed navigation cards to have consistent heights (260px) with proper flexbox layout. | `src/sections/overview.py` |
| 2025-09-27 | Add data tables to Distance Education trend charts and fix Streamlit warnings | Enhanced both Total Enrollment Trend and Distance Education Trend charts with comprehensive data tables showing yearly enrollment figures, percentage changes, and institutional details. Fixed Streamlit deprecation warnings by replacing use_container_width with width parameter and resolved mixed column type warnings by converting year columns to strings. Data tables include formatted numbers with commas, percentage change calculations, and proper sorting by anchor year enrollment. | `src/charts/distance_enrollment_trend_chart.py`, `src/charts/distance_de_trend_chart.py` |
| 2025-09-27 | Add Distance Education Trend chart for exclusive DE enrollment analysis | Implement trend visualization for top 10 institutions by exclusive distance education enrollment in 2024, tracking DE_ENROLL trends from 2020-2024. Features institution-based dotted lines with YoY change indicators (green=increase, red=decrease). Includes robust handling of zero values and percentage calculations, tab-based 4-year/2-year navigation, enhanced font sizing (.1s format for thousands), and comprehensive tooltips. Provides insights into institutional distance education program growth during COVID period. | `src/charts/distance_de_trend_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/__init__.py` |
| 2025-09-27 | Add Total Enrollment Trend chart to Distance Education section | Implement enrollment trend visualization following Pell Dollars Trend pattern, showing top 10 institutions by 2024 enrollment with year-over-year trajectories from 2020-2024. Features dotted lines colored by institution and points colored by enrollment change direction (green=increase, red=decrease). Includes tab-based 4-year/2-year navigation, comprehensive tooltips with YoY percentage changes, and robust data processing for multi-year enrollment analysis. | `src/charts/distance_enrollment_trend_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/__init__.py` |
| 2025-09-27 | Add Distance Education section with enrollment breakdown visualization | Implement comprehensive Distance Education section featuring top 25 institutions by enrollment with stacked bar visualization showing exclusively distance education, some distance education, and in-person only students. Added complete data integration (schema, sources, loader), chart module with tab-based 4-year/2-year navigation, section class following established patterns, and enhanced overview page with four-column navigation layout. | `src/charts/distance_top_enrollment_chart.py`, `src/sections/distance_education.py`, `src/config/constants.py`, `src/config/navigation.py`, `src/config/__init__.py`, `src/config/data_sources.py`, `src/core/data_manager.py`, `src/sections/__init__.py`, `src/sections/overview.py`, `data/dictionary/schema.json`, `data/dictionary/sources.yaml`, `app.py` |
| 2025-09-27 | Enhance landing page visual design and user experience | Transform plain overview page with enhanced hero section, colored containers, multi-column layouts, and interactive navigation cards. Added gradient hero banner, info/success/warning containers for different content types, visual hierarchy with icons and consistent color theming matching dashboard charts. | `src/sections/overview.py` |
| 2025-09-27 | Enhance Pell Grants Trend chart with institutional coloring and change indicators | Apply same enhancements as Federal Loans trend chart: institution-based coloring with dotted lines, year-over-year change calculation, green/red dot indicators for performance changes. Enhanced tooltips with percentage changes and dual legends for institutions and change directions. | `src/charts/pell_trend_chart.py` |
| 2025-09-27 | Enhance Federal Loan Trend chart with institutional coloring and change indicators | Transform trend chart from sector-based to institution-based coloring with dotted lines. Added year-over-year change calculation with green/red dot indicators (green for increase/same, red for decrease). Enhanced tooltips with percentage changes and dual legends for institutions and change directions. | `src/charts/loan_trend_chart.py` |
| 2025-09-27 | Enable Pell Grants stacked bar visualization | Fixed Pell chart to use raw data with year columns instead of pre-aggregated processed data. Modified chart function to accept metadata, updated section to use sector filtering, and ensured consistent stacked bar visualization across both Federal Loans and Pell Grants sections. | `src/sections/pell_grants.py`, `src/charts/pell_top_dollars_chart.py` |
| 2025-09-27 | Transform Pell Grants chart to stacked bar | Modified Top 25 Pell Dollar Recipients chart to match Federal Loans stacked bar design. Each stack shows yearly breakdown with Viridis color scale. Reshapes data to long format, adds yearly breakdown table, and maintains sector information in tooltips. | `src/charts/pell_top_dollars_chart.py` |
| 2025-09-27 | Transform Federal Loans chart to stacked bar | Modified Top 25 Federal Loan Dollars chart from simple bars colored by sector to stacked bars with yearly breakdown (2008-2022). Each stack represents a year with Viridis color scale, preserving sector info in tooltips. Added yearly breakdown table and fixed sorting issues. | `src/charts/loan_top_dollars_chart.py` |
| 2025-09-27 | Consolidate Pell Grants navigation with tabs | Implemented tab-based navigation for Pell Grants section, reducing sidebar from 6 individual chart buttons to 3 consolidated buttons with 4-year/2-year tabs. Enhanced user experience with consistent navigation pattern matching Federal Loans section. | `src/config/__init__.py`, `src/config/constants.py`, `src/sections/pell_grants.py` |
| 2025-09-27 | Implement comprehensive data dictionary and governance | Created machine-readable data dictionary with field-level validation, comprehensive source registry with provenance tracking, reorganized raw data by source (IPEDS/FSA), added data model classes for type safety, and created extensive documentation for data strategy and governance. | `data/dictionary/`, `data/raw/ipeds/`, `data/raw/fsa/`, `src/data/models.py`, `docs/DATA_DICTIONARY.md`, `docs/DATA_STRATEGY.md` |
| 2025-09-27 | Major architecture refactoring | Extracted all business logic from app.py into modular components: config modules for constants/navigation/data sources, core modules for data management, section classes for each dashboard area, and state management for session handling. Reduced app.py from 648 to ~120 lines. | `app_refactored.py`, `src/config/`, `src/core/`, `src/sections/`, `src/state/`, `CLAUDE.md` |
| 2025-09-26 | Enhanced value grid axis styling | Increased font size and bold weight on cost and graduation axis titles for both four- and two-year scatter charts to improve legibility. | `src/charts/cost_vs_grad_chart.py`, `LOG.md` |
| 2025-09-26 | Added overview navigation | Reworked sidebar expanders with overview pages and guidance copy for value grid, loans, and Pell sections. | `app.py`, `LOG.md` |
| 2025-09-25 | Added federal loan trend charts | Introduced four- and two-year federal loan trend visuals aligned with existing Pell charts, sizing bubbles by enrollment for consistency. | `app.py`, `src/charts/loan_trend_chart.py`, `src/charts/pell_vs_grad_scatter_chart.py`, `src/charts/loan_vs_grad_scatter_chart.py` |
| 2025-09-25 | Added federal loan scatter charts | Introduced four- and two-year federal loan vs graduation rate scatter visuals to mirror Pell comparisons. | `app.py`, `src/charts/loan_vs_grad_scatter_chart.py` |
| 2025-09-25 | Added Federal Loans section | Introduced a Federal Loans section with top-dollar charts for four- and two-year institutions sourced from the federal loan dataset. | `app.py`, `src/charts/loan_top_dollars_chart.py` |
| 2025-09-25 | Streamlined value grid UI | Removed enrollment legend from the value grid charts and increased quadrant tab font size for readability. | `src/charts/cost_vs_grad_chart.py` |
| 2025-09-25 | Added landing overview | Introduced a project overview landing page so Streamlit opens with context before navigating to charts. | `app.py` |
| 2024-11-24 | Updated enrollment filter | Enrollment control now uses fixed setpoints (0, 1k, 2.5k, 5k, 10k, 25k, 50k, 100k cap). | `src/dashboard/cost_vs_grad.py` |
| 2024-11-24 | Added two-year dashboard view | Introduced dual cost vs graduation charts for 4-year and 2-year institutions with shared filters. | `app.py`, `src/dashboard/cost_vs_grad.py`, `src/charts/cost_vs_grad_chart.py` |
| 2024-11-24 | Extended dataset builder | Builder now materializes four-year and two-year tuition vs graduation exports. | `src/data/build_tuition_vs_graduation.py`, `src/data/datasets.py`, `data/processed/tuition_vs_graduation.csv`, `data/processed/tuition_vs_graduation_two_year.csv` |
| 2024-11-24 | Added dataset builder | Added script to regenerate tuition vs graduation export for sectors 1-3 and refreshed processed CSV. | `src/data/build_tuition_vs_graduation.py`, `data/processed/tuition_vs_graduation.csv` |
| 2024-11-24 | Refactor committed | Finalized Streamlit refactor, modularizing dashboard logic for long-term maintenance. | `app.py`, `src/` |
| 2024-11-24 | Refactored Streamlit entry point | Moved business logic into `src/` modules and slimmed down `app.py`. | `app.py`, `src/` |
| 2024-11-24 | Added contributor guide | Replaced prior content with concise repository guidelines for agents. | `AGENTS.md` |
| 2024-11-24 | Initialized logbook | Created ongoing markdown log for tracking repository updates. | `LOG.md` |

## Update Instructions
- Append new rows with the current date (ISO format) and a short title.
- Summarize the change in one sentence; link to issues or PRs when relevant.
- Reference touched paths using backticks to keep entries scannable.
- Keep the table sorted with newest entries on top to surface recent work.
